<?php
/** -------------------------------------------------------------------------------------------------------------------- ** 
/** -------------------------------------------------------------------------------------------------------------------- ** 
/** ---																																					--- **
/** --- 											-----------------------------------------------											--- **
/** ---																{ Index.php }																	--- **
/** --- 											-----------------------------------------------											--- **
/** ---																																					--- **
/** ---		TAB SIZE			: 3																													--- **
/** ---																																					--- **
/** ---		AUTEUR			: Nicolas DUPRE																									--- **
/** ---																																					--- **
/** ---		RELEASE			: 07.01.2017																										--- **
/** ---																																					--- **
/** ---		APP_VERSION		: 1.0.0.0																											--- **
/** ---																																					--- **
/** ---		FILE_VERSION	: 0.0 NDU																											--- **
/** ---																																					--- **
/** ---																																					--- **
/** --- 														-----------------------------														--- **
/** --- 															{ C H A N G E L O G } 															--- **
/** --- 														-----------------------------														--- **	
/** ---																																					--- **
/** ---																																					--- **
/** ---		VERSION 0.0 : 07.01.2017 : NDU																									--- **
/** ---		------------------------------																									--- **
/** ---			- Première release																												--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **

	Objectif du script :
	---------------------
	
	Description fonctionnelle :
	----------------------------
	
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---													PHASE 1 - INITIALISATION DU SCRIPT													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** > Chargement des Paramètres **/
/** > Ouverture des SESSIONS Globales **/
/** > Chargement des Classes **/
/** > Chargement des Configs **/

/** > Chargement des Fonctions **/
	require_once __ROOT__."/Processors/Functions/loadCSS.php";
	require_once __ROOT__."/Processors/Functions/loadLESS.php";
	require_once __ROOT__."/Processors/Functions/loadScriptsJS.php";
	require_once __ROOT__."/Processors/Functions/sortScandir.php";


/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---												PHASE 2 - CONTROLE DES AUTORISATIONS													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---												PHASE 3 - INITIALISAITON DES DONNEES													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** > Déclaration des variables **/
	$CSS;			// ARRAY		:: Liste des fichiers CSS à auto-inclure
	$lang;		// SYSLang	:: Instance du moteur de lang SYSLang
	$LESS;		// ARRAY		:: Liste des fichiers LESS à auto-inclure
	$moteur;		// Template	:: Instance du moteur Template
	$SCRIPTSJS; // ARRAY		:: Liste des fichiers JavaScript à auto-inclure
	$vars;		// ARRAY		:: Jeu de donnée à envoyer au moteur


/** > Initialisation des variables **/
	$moteur = new Template();
	$CSS = Array();
	$LESS = Array();
	$SCRIPTSJS = Array();


/** > Déclaration et Intialisation des variables pour le moteur (référence) **/
	$vars = Array(
		// @Block
		"CSS" => &$CSS,
		"LESS" => &$LESS,
		"SCRIPTSJS" => &$SCRIPTSJS
	);



/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---									PHASE 4 - EXECUTION DU SCRIPT DE TRAITEMENT DE DONNEES										--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
	/** Chargement des Commons **/
	$CSS = array_merge($CSS, loadCSS(false, "CSS/Common", "CSS/Index"));
	$LESS = array_merge($LESS, loadLESS(false, "LESS/Common", "LESS/Index"));
	$SCRIPTSJS = array_merge($SCRIPTSJS, loadScriptsJS(false, "Scripts/Common", "Scripts/Index"));



/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---											PHASE 5 - GENERATION DES DONNEES DE SORTIE												--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---												PHASE 6 - AFFICHER LES SORTIES GENEREE													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** > Configuration du moteur **/
	$moteur->set_template_file("Templates/index.master.tpl.html");
	$moteur->set_output_name("index.html");

/** > Envoie des données **/
	$moteur->set_vars($vars);

/** > Execution du moteur **/
	$moteur->render()->display();
?>