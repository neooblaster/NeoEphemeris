<?php
/** -------------------------------------------------------------------------------------------------------------------- ** 
/** -------------------------------------------------------------------------------------------------------------------- ** 
/** ---																																					--- **
/** --- 											-----------------------------------------------											--- **
/** ---														 { auto_prepend_file.php }														 	--- **
/** --- 											-----------------------------------------------											--- **
/** ---																																					--- **
/** ---		AUTEUR 	: Nicolas DUPRE																											--- **
/** ---																																					--- **
/** ---		RELEASE	: 09.07.2016																												--- **
/** ---																																					--- **
/** ---		VERSION	: 1.0																															--- **
/** ---																																					--- **
/** ---																																					--- **
/** --- 														-----------------------------														--- **
/** --- 															{ C H A N G E L O G } 															--- **
/** --- 														-----------------------------														--- **	
/** ---																																					--- **
/** ---																																					--- **
/** ---		VERSION 1.0 : 09.07.2016																											--- **
/** ---		------------------------																											--- **
/** ---			- Première release																												--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **

	Objectif du script :
	---------------------
	
		Par le biais de se script auto_prepend depuis la configuration php.ini, celui-ci permet d'en charger autant que nécessaire
	qui sont déposé dans les dossiers suivant, sans qu'il soit nécessaire d'ajouter manuellement les fichiers dans php.ini
	
	Dossier Existant :
		
		- Functions @ Inclure pour disposer des fonctions que les fichiers contiennent.
		
	
	Description fonctionnelle :
	----------------------------
	
	
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---													PHASE 1 - INITIALISATION DU SCRIPT													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **



/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---												PHASE 2 - INITIALISAITON DES DONNEES													--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** > Déclaration des variables **/
$GLOBALS['_PREPEND']['read_folders']; // ARRAY	: Liste des dossier à traiter


/** > Initialisation des variables **/
$GLOBALS['_PREPEND']['read_folders'] = Array('Functions', /*'Classes', */'Setups');


/** > Déclaration et Intialisation des variables pour le moteur (référence) **/



/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** ---																																					--- **
/** ---									PHASE 4 - EXECUTION DU SCRIPT DE TRAITEMENT DE DONNEES										--- **
/** ---																																					--- **
/** -------------------------------------------------------------------------------------------------------------------- **
/** -------------------------------------------------------------------------------------------------------------------- **/
/** Parcourir les dossiers **/
foreach($GLOBALS['_PREPEND']['read_folders'] as $GLOBALS['_PREPEND']['dkey'] => $GLOBALS['_PREPEND']['folder']){
	$GLOBALS['_PREPEND']['directory'] = scandir(__DIR__."/".$GLOBALS['_PREPEND']['folder']);
	
	foreach($GLOBALS['_PREPEND']['directory'] as $GLOBALS['_PREPEND']['fkey'] => $GLOBALS['_PREPEND']['file']){
		if(!preg_match('#^\.#', $GLOBALS['_PREPEND']['file'])){
			require_once __DIR__."/".$GLOBALS['_PREPEND']['folder']."/".$GLOBALS['_PREPEND']['file'];
		}
	}
}

/** Supprimer ses traces **/
unset($GLOBALS['_PREPEND']);


?>